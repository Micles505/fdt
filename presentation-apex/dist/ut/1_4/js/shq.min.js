/*!
 Copyright (c) 2021, Oracle and/or its affiliates. All rights reserved.
 */
var shq,apex=apex||{};apex.date={},function(e,t,a){"use strict";function n(t,a){var n;return a===e.UNIT.YEAR?n=new Date(t.getFullYear(),0,1,0,0,0,0):a===e.UNIT.MONTH?n=new Date(t.getFullYear(),t.getMonth(),1,0,0,0,0):a===e.UNIT.WEEK?n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0):a===e.UNIT.DAY?n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0):a===e.UNIT.HOUR?n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),0,0,0):a===e.UNIT.MINUTE?n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0):a===e.UNIT.SECOND?n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),0):a===e.UNIT.MILLISECOND&&(n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())),n}e.UNIT={MILLISECOND:"millisecond",SECOND:"second",MINUTE:"minute",HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"},e.DEFAULT_DATE_FORMAT="YYYY-MM-DD",e.isValid=function(e){return e instanceof Date&&!isNaN(e)},e.isValidString=function(e){return!isNaN(Date.parse(e))},e.clone=function(e){return new Date(e.getTime())},e.add=function(t,a,n){var i=t||new Date;return n===e.UNIT.YEAR?i.setFullYear(i.getFullYear()+a):n===e.UNIT.MONTH?i=function(e,t){var a=e.getDate();return e.setMonth(e.getMonth()+t),e.getDate()!==a&&e.setDate(0),e}(i,a):n===e.UNIT.WEEK?i.setDate(i.getDate()+7*a):n===e.UNIT.DAY?i.setDate(i.getDate()+a):n===e.UNIT.HOUR?i.setHours(i.getHours()+a):n===e.UNIT.MINUTE?i.setTime(i.getTime()+6e4*a):n===e.UNIT.SECOND?i.setTime(i.getTime()+1e3*a):n===e.UNIT.MILLISECOND&&i.setTime(i.getTime()+a),i},e.subtract=function(t,a,n){var i=t||new Date;return i=e.add(i,-a,n)},e.ISOWeek=function(t){var a,n=e.clone(t||new Date),i=(n.getDay()+6)%7;return n.setDate(n.getDate()-i+3),a=n.valueOf(),n.setMonth(0,1),4!==n.getDay()&&n.setMonth(0,1+(4-n.getDay()+7)%7),1+Math.ceil((a-n)/6048e5)},e.weekOfMonth=function(t){var a=e.clone(t||new Date);return a.setDate(a.getDate()-a.getDay()+1),Math.ceil(a.getDate()/7)},e.daysInMonth=function(e){var t=e||new Date;return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},e.dayOfWeek=function(e){var t=e||new Date;return 0===t.getDay()?7:t.getDay()},e.getDayOfYear=function(e){var t=e||new Date,a=new Date(t.getFullYear(),0,0),n=t-a;return Math.floor(n/864e5)},e.setDayOfYear=function(e,t){(e||new Date).setMonth(0,t)},e.secondsPastMidnight=function(t){var a=e.clone(t||new Date);return Math.round((e.clone(a)-a.setHours(0,0,0,0))/1e3,0)},e.firstOfMonth=function(e){var t=e||new Date;return new Date(t.getFullYear(),t.getMonth(),1)},e.lastOfMonth=function(e){var t=e||new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)},e.startOfDay=function(e){var t=e||new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)},e.endOfDay=function(e){var t=e||new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)},e.monthsBetween=function(e,t){var a;return a=12*(t.getFullYear()-e.getFullYear()),a-=e.getMonth(),a+=t.getMonth(),Math.abs(a)},e.min=function(e){var t=e||[new Date];return new Date(Math.min.apply(null,t))},e.max=function(e){var t=e||[new Date];return new Date(Math.max.apply(null,t))},e.isBefore=function(t,a,i){var r=i||e.UNIT.MILLISECOND,o=n(t,r),s=n(a,r);return r===e.UNIT.MILLISECOND?o.getTime()<s.getTime():o<e.add(e.subtract(s,1,r),1,e.UNIT.MILLISECOND)},e.isAfter=function(t,a,i){var r=i||e.UNIT.MILLISECOND,o=n(t,r),s=n(a,r);return r===e.UNIT.MILLISECOND?o.getTime()>s.getTime():o>e.subtract(e.add(s,1,r),1,e.UNIT.MILLISECOND)},e.isSame=function(t,a,i){var r=i||e.UNIT.MILLISECOND,o=n(t,r),s=n(a,r);return o.getTime()===s.getTime()},e.isSameOrBefore=function(t,a,i){var r=i||e.UNIT.MILLISECOND,o=n(t,r),s=n(a,r);return r===e.UNIT.MILLISECOND?o.getTime()<=s.getTime():e.isSame(o,s)||o<e.add(e.subtract(s,1,r),1,e.UNIT.MILLISECOND)},e.isSameOrAfter=function(t,a,i){var r=i||e.UNIT.MILLISECOND,o=n(t,r),s=n(a,r);return r===e.UNIT.MILLISECOND?o.getTime()>=s.getTime():e.isSame(o,s)||o>e.subtract(e.add(s,1,r),1,e.UNIT.MILLISECOND)},e.isBetween=function(t,a,i,r){var o=r||e.UNIT.MILLISECOND,s=n(t,o),c=n(a,o),l=n(i,o);return s>c&&s<l},e.isLeapYear=function(e){var t=e||new Date;return 29===new Date(t.getFullYear(),1,29).getDate()},e.toISOString=function(t){var a=e.clone(t||new Date);return e.add(a,-1*a.getTimezoneOffset(),e.UNIT.MINUTE),a.toISOString().split(".")[0]},e.since=function(t,n){n=void 0!==n&&n;var i=t||new Date,r=new Date,o=(r-i)/1e3,s=(i-r)/1e3,c=n,l="",u=a.formatMessage,d={secondsAgo:u(c?"APEX.SINCE.SHORT.SECONDS_AGO":"SINCE_SECONDS_AGO","#time#"),minutesAgo:u(c?"APEX.SINCE.SHORT.MINUTES_AGO":"SINCE_MINUTES_AGO","#time#"),hoursAgo:u(c?"APEX.SINCE.SHORT.HOURS_AGO":"SINCE_HOURS_AGO","#time#"),daysAgo:u(c?"APEX.SINCE.SHORT.DAYS_AGO":"SINCE_DAYS_AGO","#time#"),weeksAgo:u(c?"APEX.SINCE.SHORT.WEEKS_AGO":"SINCE_WEEKS_AGO","#time#"),monthsAgo:u(c?"APEX.SINCE.SHORT.MONTHS_AGO":"SINCE_MONTHS_AGO","#time#"),yearsAgo:u(c?"APEX.SINCE.SHORT.YEARS_AGO":"SINCE_YEARS_AGO","#time#"),secondsFromNow:u(c?"APEX.SINCE.SHORT.SECONDS_FROM_NOW":"SINCE_SECONDS_FROM_NOW","#time#"),minutesFromNow:u(c?"APEX.SINCE.SHORT.MINUTES_FROM_NOW":"SINCE_MINUTES_FROM_NOW","#time#"),hoursFromNow:u(c?"APEX.SINCE.SHORT.HOURS_FROM_NOW":"SINCE_HOURS_FROM_NOW","#time#"),daysFromNow:u(c?"APEX.SINCE.SHORT.DAYS_FROM_NOW":"SINCE_DAYS_FROM_NOW","#time#"),weeksFromNow:u(c?"APEX.SINCE.SHORT.WEEKS_FROM_NOW":"SINCE_WEEKS_FROM_NOW","#time#"),monthsFromNow:u(c?"APEX.SINCE.SHORT.MONTHS_FROM_NOW":"SINCE_MONTHS_FROM_NOW","#time#"),yearsFromNow:u(c?"APEX.SINCE.SHORT.YEARS_FROM_NOW":"SINCE_YEARS_FROM_NOW","#time#"),now:u("SINCE_NOW")};if(!e.isValid(i))throw new Error("Not a valid date");return e.isSame(r,i,e.UNIT.SECOND)?l=d.now:o>0&&o<60?l=d.secondsAgo.replace("#time#",Math.round(o)):s>0&&s<60?l=d.secondsFromNow.replace("#time#",Math.round(s)):o>=60&&o<3600?l=d.minutesAgo.replace("#time#",Math.round(o/60)):s>=60&&s<3600?l=d.minutesFromNow.replace("#time#",Math.round(s/60)):o>=3600&&o<172800?l=d.hoursAgo.replace("#time#",Math.round(o/60/60)):s>=3600&&s<172800?l=d.hoursFromNow.replace("#time#",Math.round(s/60/60)):o>=172800&&o<1209600?l=d.daysAgo.replace("#time#",Math.round(o/60/60/24)):s>=172800&&s<1209600?l=d.daysFromNow.replace("#time#",Math.round(s/60/60/24)):o>=1209600&&o<5184e3?l=d.weeksAgo.replace("#time#",Math.round(o/60/60/24/7)):s>=1209600&&s<5184e3?l=d.weeksFromNow.replace("#time#",Math.round(s/60/60/24/7)):o>=5184e3&&o<31536e3?l=d.monthsAgo.replace("#time#",Math.round(e.monthsBetween(i,r))):s>=5184e3&&s<31536e3?l=d.monthsFromNow.replace("#time#",Math.round(e.monthsBetween(r,i))):o>=31536e3?l=d.yearsAgo.replace("#time#",(e.monthsBetween(i,r)/12).toFixed(1)):s>=31536e3&&(l=d.yearsFromNow.replace("#time#",(e.monthsBetween(r,i)/12).toFixed(1))),l},e.format=function(a,n,i){var r,o,s,c,l,u,d,p=a||new Date,g=i||t.getLanguage()||"default",f=n||e.DEFAULT_DATE_FORMAT,h=f.toUpperCase(),m="",E="",v=[];function I(e,t){var a=e.toUpperCase(),n=t.toUpperCase(),i=a.indexOf(n);return a.substr(0,i).includes('"')&&a.substr(i+1,a.length).includes('"')}function O(e){return(e=void 0===e?"":e)===e.toLowerCase()}function M(e){return(e=void 0===e?"":e).charAt(0)===e.charAt(0).toUpperCase()&&e.substr(1)===e.substr(1).toLowerCase()}function S(e){return(e=void 0===e?"":e).charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function x(t,a){return{YYYY:function(e){return e.getFullYear()},YY:function(e){return e.getFullYear().toString().substr(2,4)},RRRR:function(e){return e.getFullYear()},RR:function(e){return e.getFullYear().toString().substr(2,4)},MONTH:function(e){return e.toLocaleString(g,{month:"long"}).toUpperCase()},MON:function(e){return e.toLocaleString(g,{month:"short"}).toUpperCase()},MM:function(e){return("0"+(e.getMonth()+1)).slice(-2)},IW:function(t){return("0"+e.ISOWeek(t)).slice(-2)},WW:function(t){return("0"+e.ISOWeek(t)).slice(-2)},W:function(t){return e.weekOfMonth(t)},DAY:function(e){return e.toLocaleString(g,{weekday:"long"}).toUpperCase()},DDD:function(t){return("0"+e.dayOfYear(t)).slice(-3)},DD:function(e){return("0"+e.toLocaleString("default",{day:"numeric"})).slice(-2)},DY:function(e){return e.toLocaleString(g,{weekday:"short"}).toUpperCase()},DL:function(e){return e.toLocaleString(g,{weekday:"long",day:"2-digit",month:"long",year:"numeric"})},DS:function(e){return e.toLocaleString(g,{day:"2-digit",month:"2-digit",year:"numeric"})},D:function(e){return e.getDay()+1},HH24:function(e){return e.toLocaleString(g,{hour:"2-digit",hour12:!1}).substr(0,2)},HH12:function(e){return e.toLocaleString(g,{hour:"2-digit",hour12:!0}).substr(0,2)},HH:function(e){return e.toLocaleString(g,{hour:"2-digit",hour12:!0}).substr(0,2)},AM:function(e){return e.toLocaleString("default",{hour:"2-digit",hour12:!0}).substr(3,2)},PM:function(e){return e.toLocaleString("default",{hour:"2-digit",hour12:!0}).substr(3,2)},MI:function(e){return("0"+e.toLocaleString("default",{minute:"numeric"})).slice(-2)},SSSSS:function(t){return e.secondsPastMidnight(t)},SS:function(e){return("0"+e.toLocaleString("default",{second:"numeric"})).slice(-2)}}[a](t)}if(!e.isValid(p))throw new Error("Not a valid date");if("SINCE"===h)return e.since(p);for(r="MONTH|SSSSS|HH12|HH24|RRRR|YYYY|DAY|DDD|MON|AM|DD|DL|DS|DY|FM|HH|IW|MI|MM|PM|RR|SS|WW|YY|D|W".split("|"),u=0;u<r.length;u++)m=r[u],h.includes(m)&&(I(f,m)||(v.push({id:u,name:m,textCase:"DS"===m||"DL"===m?"original":(d=f.substr(f.toUpperCase().indexOf(m),m.length),(d=void 0===d?"":d)===d.toUpperCase()?"upper":O(f.substr(f.toUpperCase().indexOf(m),m.length))?"lower":M(f.substr(f.toUpperCase().indexOf(m),m.length))?"init":"upper")}),f=f.replace(new RegExp(m,"ig"),"~~"+u+"~~")),h=h.replace(new RegExp(m,"g"),""));for(o="SYEAR|SYYYY|IYYY|YEAR|IYY|SCC|TZD|TZH|TZM|TZR|AD|BC|CC|EE|FF|FX|IY|RM|TS|E|I|J|Q|X".split("|"),u=0;u<o.length;u++)if(E=o[u],h.includes(E)&&!I(h,E))throw new Error("Format not supported: "+E);for(l=f,u=0;u<v.length;u++){switch(s=x(p,(c=v[u]).name).toString(),c.textCase){case"upper":s=s.toUpperCase();break;case"lower":s=s.toLowerCase();break;case"init":s=S(s)}l=l.replace(new RegExp("~~"+c.id+"~~","g"),s)}return l.includes('"')&&(l=l.replace(new RegExp('"',"g"),"")),l},e.parse=function(t,a){var n,i,r=new Date,o=t||"",s=a||e.DEFAULT_DATE_FORMAT,c=s.toUpperCase(),l=[],u="",d=[],p="",g=[],f=!1,h=0,m=0,E=0;function v(t,a,n){({YYYY:function(e,t){e.setFullYear(t)},YY:function(e,t){e.setFullYear(e.getFullYear().toString().substr(0,2)+t)},RRRR:function(e,t){e.setFullYear(t)},RR:function(e,t){e.setFullYear(e.getFullYear().toString().substr(0,2)+t)},MON:function(e,t){var a;e.setMonth((a=t,new Date(Date.parse(a+" 1, 2021")).getMonth()+1-1))},MM:function(e,t){e.setMonth(parseInt(t,10)-1)},DDD:function(t,a){e.setDayOfYear(t,parseInt(a,10))},DD:function(e,t){e.setDate(parseInt(t,10))},D:function(e,t){var a,n,i;a=e,n=parseInt(t,10),i=n-(a.getDay()+1),a.setDate(a.getDate()+i)},HH24:function(e,t){e.setHours(parseInt(t,10))},HH12:function(e,t){e.setHours(parseInt(t,10))},HH:function(e,t){e.setHours(parseInt(t,10))},AM:function(e,t){"AM"===t.toUpperCase()&&e.getHours()>12?e.setHours(e.getHours()-12):"PM"===t.toUpperCase()&&e.getHours()<12&&e.setHours(e.getHours()+12)},PM:function(e,t){"AM"===t.toUpperCase()&&e.getHours()>12?e.setHours(e.getHours()-12):"PM"===t.toUpperCase()&&e.getHours()<12&&e.setHours(e.getHours()+12)},MI:function(e,t){e.setMinutes(parseInt(t,10))},SS:function(e,t){e.setSeconds(parseInt(t,10))}})[n](t,a)}if(o){if(r.setHours(0,0,0,0),!a&&e.isValidString(o))r=new Date(o);else{for(l="HH12|HH24|RRRR|YYYY|DDD|MON|AM|DD|FM|HH|MI|MM|PM|RR|SS|YY|D".split("|"),i=0;i<l.length;i++)u=l[i],c.includes(u)&&(h=s.toUpperCase().indexOf(u),m=s.toUpperCase().indexOf(u)+u.length,"HH24"!==u&&"HH12"!==u||(m-=2,E=h,f=!0),g.push({id:i,name:u,start:h,end:m}),c=c.replace(u,new Array(u.length+1).join(i)));for(f&&g.filter(function(e){return e.start>E}).forEach(function(e){e.start=e.start-2,e.end=e.end-2}),d="MONTH|SSSSS|SYEAR|SYYYY|IYYY|YEAR|DAY|IYY|SCC|TZD|TZH|TZM|TZR|AD|BC|CC|DL|DS|DY|EE|FF|FX|IW|IY|RM|TS|WW|E|I|J|Q|W|X".split("|"),i=0;i<d.length;i++)if(p=d[i],c.includes(p))throw new Error("Format not supported: "+p);for(i=0;i<g.length;i++)n=g[i],v(r,o.substring(n.start,n.end),n.name)}if(!e.isValid(r))throw new Error("Date Parsing Error");return r}},e.getAbbrevMonthNames=function(){return t.getAbbrevMonthNames()},e.getAbbrevDayNames=function(){return t.getAbbrevDayNames()}}(apex.date,apex.locale,apex.lang),(shq=shq||{}).cke={},function(e,t,a,n){e.UNDEFINED="undefined",e.EXTRA_PLUGINS_STR=["mentions","textwatcher","autocomplete"],e.WIDGET_NAME="shq_widgets.AutoCompleteWidget",e.AUTO_COMPLETE_TAG="autocomplete",e.TEST_CODE="TestCo",e.initAutoCompletePlugInCKE=function(t,a){for(var i in e.EXTRA_PLUGINS_STR)t.extraPlugins+=","+e.EXTRA_PLUGINS_STR[i];n("#"+t.itemName).data(e.AUTO_COMPLETE_TAG,a)},e.createAutoCompleteWidgets=function(t){function a(){var e=i[r];e.on("instanceReady",function(t){o(t,e)})}if(typeof CKEDITOR!=e.UNDEFINED){var i=CKEDITOR.instances;for(var r in i)a()}var o=function(a,o){var s=i[r].config.extraPlugins.split(",");console.log(s),typeof n("#"+r).data(e.AUTO_COMPLETE_TAG)!=e.UNDEFINED?(console.log("Contient le tag autocomplete, j'instance un widget"),n("#"+a.editor.name).AutoCompleteWidget({ckeDataProcessName:t,ckeInst:o})):console.log("Ne contient pas le tag autocomplete")}},e.updateAutoCompCodeNoSeq=function(t){if(typeof CKEDITOR!=e.UNDEFINED){var a=CKEDITOR.instances;for(var i in a){if(typeof n("#"+i).data(e.AUTO_COMPLETE_TAG)!=e.UNDEFINED)console.log("Contient le tag autocomplete, je l'update"),n("#"+i).data("shq_widgets-AutoCompleteWidget").setCodeNoSeq(t);else console.log("Ne contient pas le tag autocomplete")}}},n.widget(e.WIDGET_NAME,{jsonData:e.UNDEFINED,options:{ckeInst:e.UNDEFINED,ckeDataProcessName:e.UNDEFINED,textTestCallback:function(e){return e.collapsed?CKEDITOR.plugins.textMatch.match(e,function(e,t){var a=e.slice(0,t).match(/(\#)[A-z]*(?!.*\1)/i);if(!a)return null;return{start:a.index,end:t}}):null},dataCallback:function(e,t){var a=e.query.substring(1);t(jsonData.jsonParam.filter(function(e){return 0==e.name.indexOf(a)}))},itemTemplate:'<li data-id="{id}">{name}</li>',outputTemplate:"#{name}#"},_init:function(){},_create:function(){this._getData(),new this.window[0].CKEDITOR.plugins.autocomplete(this.options.ckeInst.widgets.editor,{textTestCallback:this.options.textTestCallback,dataCallback:this.options.dataCallback,itemTemplate:this.options.itemTemplate,outputTemplate:this.options.outputTemplate}).getHtmlToInsert=function(e){return this.outputTemplate.output(e)}},_getData:function(){var t=n("#"+this.options.ckeInst.widgets.editor.name).data(e.AUTO_COMPLETE_TAG);typeof t!=e.UNDEFINED?(console.log("Et le data attribute vaux : "+t),apex.server.process(this.options.ckeDataProcessName,{x01:n("#"+this.element[0].name).data(e.AUTO_COMPLETE_TAG)}).done(function(e){console.log("Le Widget a reussis a fetch du data"),console.log(e),jsonData=e}).fail(function(e,t,a){console.log("Le Widget a fail a fetch du data"),console.log(e),console.log(t),console.log(a)}).always(function(){console.log("au moin on c'est rendue a la requete. . .")})):console.log("Le data attribute pour le CO n'est pas la . . .")},setCodeNoSeq:function(t){n("#"+this.options.ckeInst.widgets.editor.name).data(e.AUTO_COMPLETE_TAG,t),this._getData()}})}(shq.cke,0,apex.theme42,apex.jQuery),(shq=shq||{}).date={},function(e,t,a,n){e.UNITE={JOUR:"JOUR",MINUTE:"MINUTE",HEURE:"HEURE",SECONDE:"SECONDE"},e.differenceEntreDeuxDate=function(t,a,n){var i,r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),o=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),s=Math.abs(r-o);switch(e.UNITE_FORMULE={JOUR:s/864e5,HEURE:s/36e5/24,MINUTE:s/6e4/60,SECONDE:s/1e3/60},n){case e.UNITE.JOUR:i=Math.floor(e.UNITE_FORMULE.JOUR);break;case e.UNITE.MINUTE:i=Math.floor(e.UNITE_FORMULE.MINUTE);break;case e.UNITE.SECONDE:i=Math.floor(e.UNITE_FORMULE.SECONDE);break;default:i=Math.floor(e.UNITE_FORMULE.HEURE)}return i}}(shq.date,0,apex.theme42,apex.jQuery),(shq=shq||{}).datePicker={},function(e,t,a,n){e.assignerDateMinimum=function(e,t){n.each(e,function(e,a){var i=n(-1===a.indexOf("#",0)?"#".concat(a):a);i.datepicker("option","minDate",t),i.next("button").addClass("a-Button a-Button--calendar")})},e.assignerDateMaximum=function(e,t){n.each(e,function(e,a){var i=n(-1===a.indexOf("#",0)?"#".concat(a):a);i.datepicker("option","maxDate",t),i.next("button").addClass("a-Button a-Button--calendar")})}}(shq.datePicker,0,apex.theme42,apex.jQuery),(shq=shq||{}).dem={},function(e,t,a,n){e.assignerItemsIgSelectionne=function(e,t,a,n){var i,r,o=[];for(i=0;i<a.selectedRecords.length;i++)r=n.getValue(a.selectedRecords[i],e),o.indexOf(r)&&o.push(r);apex.item(t).setValue(o.join(":"))},e.selectionneImportationDesjardins=function(e,t){var a,n,i=[],r=t.model,o=apex.lang.getMessage("SHQ.AVERTISSEMENT.SOURCE_FICHIER.SELECTIONNER");for(apex.message.clearErrors(),r.forEach(function(e,t,a){r.setValidity("valid",a,"FILENAME")}),a=0;a<t.selectedRecords.length;a++){n=r.getValue(t.selectedRecords[a],"NO_SEQ_FICHIER_EXTRN");var s=r.getRecordId(t.selectedRecords[a]),c=r.getValue(t.selectedRecords[a],"SOURCE_FICHIER");if("SPC2"!==c){var l=apex.lang.formatNoEscape(o,c);r.setValidity(apex.message.TYPE.ERROR,s,"FILENAME",l),apex.message.showErrors([{type:apex.message.TYPE.ERROR,location:"page",message:l,unsafe:!0}])}else i.push(n)}apex.item("P21_SELECTED_IG").setValue(i.join(":"))},e.sauvegarde_conseil_adm=function(){var e,t=[],a=[],i=[],r=[];n(".cair_prenom_membre_ca").each(function(){e=n(this),pvalue=e.val(),t.push(pvalue)}),n(".cair_nom_membre_ca").each(function(){e=n(this),pvalue=e.val(),a.push(pvalue)}),n(".cair_no_seq_carac_ca").each(function(){e=n(this),pvalue=e.val(),i.push(pvalue)}),n(".cair_precision").each(function(){e=n(this),pvalue=e.val(),r.push(pvalue)}),apex.server.process("SAVE_CA",{f01:i,f02:t,f03:a,f04:r,pageItems:"#P4_NO_SEQ_DEMAN_PHAQ,#P4_IND_CONSEIL_ADMINISTRATION"},{success:function(e){apex.region("conseilAdm").refresh()}})}}(shq.dem,0,apex.theme42,apex.jQuery),(shq=shq||{}).dem_public={},function(e,t,a,n){e.souscrireSuperficieLogement=function(){n("#".concat("SuperficieLogement")).on("interactivegridviewmodelcreate",function(e,t){var a=t.model;"grid"===t.viewId&&a.subscribe({onChange:function(e,t){var a=apex.region("SuperficieLogement").call("getActions");apex.page.isChanged()?a.disable("generer-logement"):a.enable("generer-logement")},progressView:this.element})})},e.configurerBarreOutilsSuperficie=function(e){var t=n.apex.interactiveGrid.copyDefaultToolbar(),a=(t.toolbarFind("actions1").controls,t.toolbarFind("actions3").controls),i=t.toolbarFind("actions2").controls,r=t.toolbarFind("selection-add-row"),o=t.toolbarFind("save");e.defaultGridViewOptions=e.defaultGridViewOptions||{},r.label="Ajouter",r.icon="fa fa-plus",r.iconBeforeLabel=!0,r.hot=!0,o.icon="fa fa-save fam-arrow-down fam-is-info",o.label="Superficie",o.iconBeforeLabel=!0,o.hot=!0,i.pop();a.push({type:"BUTTON",name:"annuler-ligne",label:"Annuler",action:"selection-revert",icon:"fa fa-undo",iconBeforeLabel:!0,hot:!1}),a.push(o);i.push({type:"BUTTON",name:"telecharger",label:"Télécharger",action:"show-download-dialog",icon:"fa fa-download",iconBeforeLabel:!0,hot:!1});a.push({type:"BUTTON",name:"supprimer-ligne",label:"Supprimer",action:"selection-delete",icon:"fa fa-trash-o",iconBeforeLabel:!0,hot:!1}),e.initActions=function(e){e.add({name:"generer-logement",label:"Générer logement",action:function(e,t){if(!apex.item("P200_URL_PAGE_GENERER_LOGEMENT").isEmpty()){var a=apex.item("P200_URL_PAGE_GENERER_LOGEMENT").getValue();apex.navigation.redirect(a)}}})};a.push({type:"BUTTON",action:"generer-logement",icon:"fa fa-gears",iconBeforeLabel:!0,hot:!1});return n.extend(e.defaultGridViewOptions,{skipReadonlyCells:!0}),e.toolbarData=t,e},e.configurerBarreOutilsAutresSuperficie=function(e){var t=n.apex.interactiveGrid.copyDefaultToolbar(),a=(t.toolbarFind("actions1").controls,t.toolbarFind("actions3").controls),i=t.toolbarFind("actions2").controls,r=t.toolbarFind("selection-add-row"),o=t.toolbarFind("save");e.defaultGridViewOptions=e.defaultGridViewOptions||{},r.label="Ajouter",r.icon="fa fa-plus",r.iconBeforeLabel=!0,r.hot=!0,o.icon="fa fa-save fam-arrow-down fam-is-info",o.label="Superficie",o.iconBeforeLabel=!0,o.hot=!0,i.pop();a.push({type:"BUTTON",name:"annuler-ligne",label:"Annuler",action:"selection-revert",icon:"fa fa-undo",iconBeforeLabel:!0,hot:!1}),a.push(o);a.push({type:"BUTTON",name:"supprimer-ligne",label:"Supprimer",action:"selection-delete",icon:"fa fa-trash-o",iconBeforeLabel:!0,hot:!1});return n.extend(e.defaultGridViewOptions,{skipReadonlyCells:!0}),e.toolbarData=t,e},e.configurerBarreOutilsRepartition=function(e){var t=n.apex.interactiveGrid.copyDefaultToolbar(),a=(t.toolbarFind("actions1").controls,t.toolbarFind("actions3").controls),i=t.toolbarFind("actions2").controls,r=t.toolbarFind("selection-add-row"),o=t.toolbarFind("save");e.defaultGridViewOptions=e.defaultGridViewOptions||{},r.label="Ajouter",r.icon="fa fa-plus",r.iconBeforeLabel=!0,r.hot=!0,o.icon="fa fa-save fam-arrow-down fam-is-info",o.label="Répartition",o.iconBeforeLabel=!0,o.hot=!0,i.pop();a.push({type:"BUTTON",name:"annuler-ligne",label:"Annuler",action:"selection-revert",icon:"fa fa-undo",iconBeforeLabel:!0,hot:!1}),a.push(o);a.push({type:"BUTTON",name:"supprimer-ligne",label:"Supprimer",action:"selection-delete",icon:"fa fa-trash-o",iconBeforeLabel:!0,hot:!1});return n.extend(e.defaultGridViewOptions,{skipReadonlyCells:!0}),e.toolbarData=t,e}}(shq.dem_public,0,apex.theme42,apex.jQuery),(shq=shq||{}).fdt={},function(e,t,a,n){"use strict";apex.debug.LOG_LEVEL.INFO;e.validerHeureAM=function(e,t){apex.debug.info("On change validerHeureAM");var a=e.getValue(t.record,"DH_DEBUT_AM_TEMPS_SAISIE"),n=e.getValue(t.record,"DH_FIN_AM_TEMPS_SAISIE"),i=e.getValue(t.record,"DT_TEMPS_JOUR");if(Boolean(a)&&Boolean(n)){var r=apex.date.parse(i+" "+a,"YYYY-MM-DD HH24:MI"),o=apex.date.parse(i+" "+n,"YYYY-MM-DD HH24:MI"),s=apex.date.isAfter(r,o),c=apex.item(t.field);s?c.node.setCustomValidity(apex.lang.getMessage("SHQ.ITEM.HEURE_INCOHERENTE")):c.node.setCustomValidity("")}},e.validerHeurePM=function(e,t){apex.debug.info("On change validerHeurePM");var a=e.getValue(t.record,"DH_DEBUT_PM_TEMPS_SAISIE"),n=e.getValue(t.record,"DH_FIN_PM_TEMPS_SAISIE"),i=e.getValue(t.record,"DT_TEMPS_JOUR");if(Boolean(a)&&Boolean(n)){var r=apex.date.parse(i+" "+a,"YYYY-MM-DD HH24:MI"),o=apex.date.parse(i+" "+n,"YYYY-MM-DD HH24:MI"),s=apex.date.isAfter(r,o),c=apex.item(t.field);s?c.node.setCustomValidity(apex.lang.getMessage("SHQ.ITEM.HEURE_INCOHERENTE")):c.node.setCustomValidity("")}},e.appliquerMiseEnEvidenceEnregistrement=function(e){var t=apex.lang.getMessage("FDT.CSS.FERIEE");e.forEach(function(a,n,i){var r=e.getValue(a,"INDIC_FERIEE");e.getRecordMetadata(i).highlight="O"===r?t:""})},e.souscrireFeuilleDeTemps=function(){n("#".concat("tempsSaisiePeriode")).on("interactivegridviewmodelcreate",function(t,a){var n=a.model;"grid"===a.viewId&&(e.appliquerMiseEnEvidenceEnregistrement(n),n.subscribe({onChange:function(t,a){"set"===t&&(["DH_DEBUT_AM_TEMPS_SAISIE","DH_FIN_AM_TEMPS_SAISIE"].indexOf(a.field)>-1?e.validerHeureAM(n,a):["DH_DEBUT_PM_TEMPS_SAISIE","DH_FIN_PM_TEMPS_SAISIE"].indexOf(a.field)>-1&&e.validerHeurePM(n,a)),e.appliquerMiseEnEvidenceEnregistrement(n)},progressView:this.element}))})},e.selectionPeriode=function(e,t,a,i,r,o){n("#"+e).find(".t-Tabs-item.is-active").removeClass("is-active"),n("#"+e).find(".t-Tabs-item").eq(t).addClass("is-active"),apex.item(a).setValue(i),apex.item(r).setValue(o),apex.item("P2_REFRESH_FDT_INTERVENTION").setValue(t)},e.obtenirHrefAjouterAbsence=function(){return apex.item("P2_URL_PAGE_ABSENCE").getValue()},e.configurerSaisieTemps=function(a){var i=n.apex.interactiveGrid.copyDefaultToolbar(),r=(i.toolbarFind("actions1").controls,i.toolbarFind("actions2").controls),o=i.toolbarFind("actions3").controls,s=i.toolbarFind("actions3").controls,c=i.toolbarFind("save");c.icon="fa fa-table fam-arrow-down fam-is-info",c.label="Enregistrer mon temps ",c.iconBeforeLabel=!0,c.hot=!0,r.pop(),o.push(c);var l=function(e,t){var a,i,r=apex.item("P2_FILTRE_TEMPS_SAISIE_ABS"),o=apex.item("P2_FILTRE_TEMPS_SAISIE_VAC");switch(this.name){case"filtre-absence":a="ABS",i=r;break;case"filtre-vacance":a="VAC",i=o;break;default:itemFiltre.setValue(null)}return this.get()?(i.setValue(""),this.set(!1),n(t).removeClass("is-active-filtre-fdt")):(i.setValue(a),this.set(!0),n(t).addClass("is-active-filtre-fdt")),apex.region("tempsSaisiePeriode").refresh(),this.get()},u=function(e,t){return new Promise(function(e,a){t.model.hasErrors()?a(!1):t.model.save(e(!0))||e(!0)})};a.initActions=function(a){a.add([{name:"filtre-absence",label:"Absence",state:!1,action:l,get:function(){return this.state},set:function(e){return this.state=e,this.state}},{name:"filtre-vacance",label:"Vacances",state:!1,action:l,get:function(){return this.state},set:function(e){return this.state=e,this.state}},{name:"ajouter-absence",label:"Absence",action:function(a,n){var i,r,o=apex.item("P2_IND_MOIS_COMPLET_INTERV").getValue(),s=apex.region("tempsSaisiePeriode"),c=s.call("getViews").grid,l=u(0,c),d=new Array(0);"N"==o&&"O"===EA_RESSOURCE_SAISI_INTRV?(i=apex.region("tempsIntervention").call("getViews").grid,r=u(0,i),d.push(l,r)):(null,i=null,r=null,d.push(l)),Promise.all(d).then(function(t){var a;t.every(Boolean)&&(a=e.obtenirHrefAjouterAbsence(),apex.navigation.redirect(a))}).catch(function(e){t.page.alert(apex.lang.getMessage("FDT.ABSENCE.ERREUR"))})}}])};r.push({type:"BUTTON",action:"filtre-absence",icon:"fa fa-filter",iconBeforeLabel:!0}),r.push({type:"BUTTON",action:"filtre-vacance",icon:"fa fa-filter",iconBeforeLabel:!0});"I"===EA_INTERNE_OU_EXTERNE&&s.push({type:"BUTTON",icon:"fa fa-plus",action:"ajouter-absence",iconBeforeLabel:!0,hot:!0}),a.defaultGridViewOptions=a.defaultGridViewOptions||{};return n.extend(a.defaultGridViewOptions,{skipReadonlyCells:!0}),a.toolbarData=i,a},e.configurerSaisieIntervention=function(e){var t=n.apex.interactiveGrid.copyDefaultToolbar(),a=(t.toolbarFind("actions1").controls,t.toolbarFind("actions2").controls),i=t.toolbarFind("actions3").controls,r=t.toolbarFind("selection-add-row");r.label="Ajouter",r.icon="fa fa-plus",r.iconBeforeLabel=!0,r.hot=!0;var o=t.toolbarFind("save");o.icon="fa fa-table fam-arrow-down fam-is-info",o.label="Enregistrer",o.iconBeforeLabel=!0,o.hot=!0,a.pop(),i.push(o);i.push({type:"BUTTON",name:"supprimer-ligne",label:"Supprimer",action:"selection-delete",icon:"fa fa-trash-o",iconBeforeLabel:!0,hot:!1});return e.defaultGridViewOptions=e.defaultGridViewOptions||{},n.extend(e.defaultGridViewOptions,{skipReadonlyCells:!0}),e.toolbarData=t,e}}(shq.fdt,shq,apex.theme42,apex.jQuery),(shq=shq||{}).gpr={},function(e,t,a,n){"use strict";t.ajusterFocusContactClient=function(e){var t,a=apex.item(e).getValue(),i='label[for="'.concat(e).concat('_idFocusNombre"');switch(a){case"DOMIC":t="0";break;case"BURE":t="1";break;case"CELL":t="2";break;case"TELEA":t="3";break;case"FAX":t="4";break;default:t="5"}i=i.replace("idFocusNombre",t),n(i).focus()},t.ajusterFocueTypClient=function(e){var t,a='label[for="P18_CO_TYP_CLIENT_idFocusNombre"';switch(apex.item(e).getValue()){case"COPR":t="1";break;case"REPO":t="2";break;default:t="0"}a=a.replace("idFocusNombre",t),n(a).focus()}}(0,shq.gpr,apex.util,apex.jQuery),(shq=shq||{}).pil={},function(e,t,a,n){"use strict";t.calculerNombrejour=function(e,t){var a=e.getRecordMetadata(t),n=e.getRecord(t);if(a.inserted||a.updated){var i=0===e.getValue(n,"DT_DEBUT_AN").lenght?moment(null):moment(e.getValue(n,"DT_DEBUT_AN")),r=0===e.getValue(n,"DT_FIN_AN").lenght?moment(null):moment(e.getValue(n,"DT_FIN_AN"));if(i.isValid()&&r.isValid()&&i.isBefore(r)){r.add(1,"days");var o=r.diff(i,"days").toString();e.setValue(n,"NB_JOUR",o)}}},t.gridCalendrierPil=function(){n("#calendrierPil").on("interactivegridviewmodelcreate",function(e,a){var n=a.model;"grid"===a.viewId&&n.subscribe({onChange:function(e,a){"set"===e&&["DT_DEBUT_AN","DT_FIN_AN"].indexOf(a.field)>-1&&setTimeout(function(){t.calculerNombrejour(n,a.recordId)},0)}})})}}(0,shq.pil,apex.util,apex.jQuery),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),(shq=shq||{}).psa={},function(e,t,a,n){e.graph_subLabelValeurEgaleA0=function(e,t){return e.dataFilter=function(e){var a,n;for(a in e.series)for(n in e.series[a].items)0==e.series[a].items[n].value&&(e.series[a].items[n].label=t);return e},e}}(shq.psa,0,apex.theme42,apex.jQuery),function(e,t,a,n){"use strict";function i(){n("#APEX_SUCCESS_MESSAGE").find(".t-Button--closeAlert").click(function(){t.message.hidePageSuccess()})}e.definirTitreModal=function(e){a.getTopApex().$(".ui-dialog-content").dialog("option","title",e)},e.isNavigateurChrome=function(){var e=!1;return navigator.userAgent.search("Chrome")>0&&(e=!0),e},e.isNavigateurIexplorer11=function(){var e=!1;return navigator.userAgent.search("/MSIE|Trident/")>0&&(e=!0),e},e.isNavigateurFirefox=function(){var e=!1;return navigator.userAgent.search("Firefox")>0&&(e=!0),e},e.isNavigateurSafari=function(){return/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString()},e.isNavigateurEdge=function(){var e=!1;return navigator.userAgent.search("Edg/")>0&&(e=!0),e},n(document).ready(function(){var e;n("#t_Body_nav #t_TreeNav").on("click",'ul li.a-TreeView-node div.a-TreeView-content:has(a[href="#"])',function(){n(this).prev("span.a-TreeView-toggle").click()}),n("#t_Body_nav #t_TreeNav").on("click","ul li.a-TreeView-node div.a-TreeView-content:not(:has(a))",function(){n(this).prev("span.a-TreeView-toggle").click()}),void 0!==n("#t_TreeNav").treeView&&n("#t_TreeNav").treeView({tooltip:{show:{delay:1e3,effect:"blind",duration:800},content:function(e,t){return t.label}}}),e={autoDismiss:!0,duration:4e3},t.theme42.configureSuccessMessages(e),i(),t.message.setThemeHooks({beforeShow:function(a){a===t.message.TYPE.SUCCESS&&(t.theme42.configureSuccessMessages(e),i())}})})}(shq=shq||{},apex,apex.util,apex.jQuery),(shq=shq||{}).dialog={},function(e,t,a,n){"use strict";e.confirmeFermetureDialog=function(e,t){var a=apex.lang.getMessage("APEX.DIALOG.OK"),n=apex.lang.getMessage("SHQ.DIALOG.WARNONSAVE.QUITTER"),i=apex.lang.getMessage("APEX.WARN_ON_UNSAVED_CHANGES");apex.lang.addMessages({"APEX.DIALOG.OK":n}),apex.page.isChanged()?apex.message.confirm(i,function(e){e&&(apex.lang.addMessages({"APEX.DIALOG.OK":a}),apex.navigation.dialog.close(!0))}):(apex.lang.addMessages({"APEX.DIALOG.OK":a}),apex.navigation.dialog.close(!0))},e.validerFermetureDialogue=function(e){var t=e.target.parentElement.classList;return-1===n.inArray("ui-dialog--notification",t)&&-1===n.inArray("ui-dialog--inline",t)}}(shq.dialog,0,apex.theme42,apex.jQuery),(shq=shq||{}).ig={},function(e,t,a,n){"use strict";apex.debug.LOG_LEVEL.INFO;e.obtenirValeurColonneRecordCourant=function(e,t){var a="",n=apex.region(e).widget();if(!n||"null"===n||"undefined"===n)return"";var i=n.interactiveGrid("getViews","grid");if(!i||"null"===i||"undefined"===i)return"";var r=i.model;if(!r||"null"===r||"undefined"===r)return"";var o=i.getSelectedRecords();return 1==o.length&&(a=r.getValue(o[0],t)),a},e.definirValeurDefautColonne=function(e,t,a){var n=!0,i=apex.region(e).widget();i&&"null"!==i&&"undefined"!==i||(n=!1);var r=i.interactiveGrid("getViews","grid");r&&"null"!==r&&"undefined"!==r||(n=!1);var o=r.model;o&&"null"!==o&&"undefined"!==o||(n=!1);var s=o.getOption("fields").nomColonne;s&&"null"!==s&&"undefined"!==s||(n=!1),n&&(o.getOption("fields").nomColonne.defaultValue=a)},e.activerDesactiverEditable=function(e,t){if(void 0!==e&&void 0!==t){apex.region(e).call("getCurrentView").model.setOption("editable",t),["edit","selection-add-row","selection-delete","selection-duplicate","row-add-row","row-delete","row-duplicate","insert-record","delete-record","selection-revert"].forEach(function(a){switch(t){case!0:apex.region(e).call("getActions").show(a);break;case!1:apex.region(e).call("getActions").hide(a)}})}},e.activerDesactiverAjouterLigne=function(e,t){if(void 0!==e&&void 0!==t){["selection-add-row","row-add-row","row-duplicate","selection-duplicate"].forEach(function(a){switch(t){case!0:apex.region(e).call("getActions").enable(a);break;case!1:apex.region(e).call("getActions").disable(a)}})}},e.modifierVisibiliteColonnes=function(e,t,a){var n=apex.region(t).call("getViews").grid,i=n.view$;n.getColumns().forEach(function(t){e.indexOf(t.property)>=0&&(a?i.grid("showColumn",t.property):i.grid("hideColumn",t.property))})},e.configTooltipColonne=function(e,t){e.defaultGridViewOptions=e.defaultGridViewOptions||{};var a={tooltip:{content:function(e,a,i,r,o){var s;return o&&i&&n.inArray(o.property,t)>=0&&(s=a.getValue(i.record,o.property)),s}}};return n.extend(e.defaultGridViewOptions,a),e},e.configColonneStretch=function(e,t,a){var i;return e.defaultGridColumnOptions=e.defaultGridColumnOptions||{},void 0!==a&&a>0&&(i={noStretch:t,width:a}),n.extend(e.defaultGridColumnOptions,i),e},e.configColonneRowHeaderSequence=function(e){e.defaultGridViewOptions=e.defaultGridColumnOptions||{};return n.extend(e.defaultGridViewOptions,{multiple:!1,hideControl:!0,rowHeader:"sequence"}),e},e.configApexRowAction=function(e){e.defaultGridColumnOptions=e.defaultGridColumnOptions||{};return n.extend(e.defaultGridColumnOptions,{noHeaderActivate:!0,usedAsRowHeader:!1}),e},e.configurerOptionEditionLienIg=function(e){e.defaultGridColumnOptions=e.defaultGridColumnOptions||{};return void 0!==e.features&&(e.features.canHide=!1),n.extend(e.defaultGridColumnOptions,{noHeaderActivate:!0,label:"",noStretch:!0,width:45}),e},e.configurerBoutonAjouterDialogue=function(e){var t=n.apex.interactiveGrid.copyDefaultToolbar();return t.toolbarFind("actions3").controls.push({type:"BUTTON",action:"ajouter-valeur-parametre",iconBeforeLabel:!0}),e.toolbarData=t,e},e.configurerBarreOutilsBoutons=function(e,t,a,i){var r=n.apex.interactiveGrid.copyDefaultToolbar(),o=r.toolbarFind("actions1").controls,s=!1;void 0!==e.editable&&(s=void 0===e.editable.allowedOperations.create||e.editable.allowedOperations.create),t=t,a=a,i=i;var c=r.toolbarFind("actions3").controls,l=r.toolbarFind("actions2").controls,u=r.toolbarFind("selection-add-row"),d=r.toolbarFind("save");o.unshift({type:"SELECT",action:"change-rows-per-page"}),s?(u.label="Ajouter",u.icon="fa fa-plus",u.iconBeforeLabel=!0,u.hot=!0):c.pop(),i&&(d.icon="fa fa-table-arrow-down",d.label="Enregistrer la grille",d.iconBeforeLabel=!0,d.hot=!0,l.pop());if(c.push({type:"BUTTON",name:"annuler-ligne",label:"Annuler",action:"selection-revert",icon:"fa fa-undo",iconBeforeLabel:!0,hot:!1}),i&&c.push(d),a){c.push({type:"BUTTON",name:"supprimer-ligne",label:"Supprimer",action:"selection-delete",icon:"fa fa-trash-o",iconBeforeLabel:!0,hot:!1})}e.defaultGridViewOptions=e.defaultGridViewOptions||{};return n.extend(e.defaultGridViewOptions,{skipReadonlyCells:!0}),e.toolbarData=r,e},e.configurerBarreOutilsBoutonsLecture=function(e){var t=n.apex.interactiveGrid.copyDefaultToolbar(),a=t.toolbarFind("actions1").controls,i=t.toolbarFind("actions3").controls,r=t.toolbarFind("actions2").controls;return a.unshift({type:"SELECT",action:"change-rows-per-page"}),i.pop(),r.shift(),r.pop(),e.toolbarData=t,e},e.initialiserToolbarFacetedSearch=function(e){var t=n.apex.interactiveGrid.copyDefaultToolbar(),a=(t.toolbarFind("actions2").controls,t.toolbarFind("actions1"));return t.toolbarRemove("actions2"),a.controls.push({type:"SELECT",action:"change-rows-per-page"}),a.controls.push({type:"BUTTON",action:"show-columns-dialog",iconBeforeLabel:!0,hot:!0}),a.controls.push({type:"BUTTON",action:"show-filter-dialog",iconBeforeLabel:!0,hot:!0}),a.controls.push({type:"BUTTON",action:"show-sort-dialog",iconBeforeLabel:!0,hot:!0}),a.controls.push({type:"BUTTON",action:"show-aggregate-dialog",iconBeforeLabel:!0,hot:!0}),e.toolbarData=t,e},e.assignerValeurJsChangeEvent=function(e,t){var a=void 0===e.id?null:$v2(e.id);switch(t=void 0!==t&&t){case!0:break;case!1:a=a;break;default:a=null}return a},e.initialiserPageSelectionIg=function(){var t={},a=apex.debug.LOG_LEVEL.INFO,i=window.location.search.split(":"),r=i[5]&&i[5].match(/RP/);function o(e,n,i){var r,o=e.getItem(i+"LastSelection"),s=e.getItem(i+"LastPage");s&&s.match(/\d+:\d+/)&&(s=s.split(":"),r={offset:parseInt(s[0],10),count:parseInt(s[1],10)},o&&(r.sel=o),apex.util.getNestedObject(t,n)[i]=r,apex.debug.message(a,"_setInitInfo:",r.offset,r.count))}var s,c,l,u,d={};for(c=(l=apex.storage.getScopedSessionStorage({usePageId:!0})).length,s=0;s<c;s++)d[l.key(s).split(".")[3]]=1;return d=Object.keys(d),r?(d.forEach(function(e){u=e,(l=apex.storage.getScopedSessionStorage({usePageId:!0,regionId:u})).removeItem("gridLastPage"),l.removeItem("iconLastPage"),l.removeItem("detailLastPage")}),apex.debug.message(a,"resetPagination")):d.forEach(function(e){u=e,o(l=apex.storage.getScopedSessionStorage({usePageId:!0,regionId:u}),u,"grid"),o(l,u,"icon"),o(l,u,"detail"),apex.debug.message(a,"Preparation restauration page")}),e.memoriserPageSelectionIg=function(){n(".a-IG").map(function(e,t){return t.id}).map(function(e,i){var r="#".concat(i);apex.debug.message(a,"Bind event gridpagechange tablemodelviewpagechange id:",r),n(r).on("gridpagechange tablemodelviewpagechange",function(e,a){apex.debug.LOG_LEVEL.INFO;var i,r,o=n(this),s=this.id,c=apex.storage.getScopedSessionStorage({usePageId:!0,regionId:s}),l=o.interactiveGrid("getCurrentViewId");l.match(/icon|grid|detail/)&&(null===a.count?c.setItem(l+"LastPage",a.offset+":0"):c.setItem(l+"LastPage",a.offset+":"+a.count),(i=t[s]&&t[s][l])&&i.sel&&(r=i.sel,o.interactiveGrid("setSelectedRecords",r.split("|")),delete i.sel))}),apex.debug.message(a,"Bind event interactivegridselectionchange id:",r),n(r).on("interactivegridselectionchange",function(e,i){var r,o,s,c=n(this),l=this.id,u=apex.storage.getScopedSessionStorage({usePageId:!0,regionId:l}),d=c.interactiveGrid("getCurrentView"),p=d.internalIdentifier;if(p.match(/icon|grid/)){s=d.model;var g=u.getItem(p+"LastPage");if(r=void 0===(r=t[l]&&t[l][p])?{}:r,$nvl(void 0!==r.sel&&r.sel,!1)&&0===r.offset?(o=r.sel,g=null):o=c.interactiveGrid("getSelectedRecords").map(function(e){return s.getRecordId(e)}).join("|"),u.setItem(p+"LastSelection",o),null===g){var f={offset:0,count:d.view$.grid("option","rowsPerPage")},h="#".concat(l);apex.event.trigger(n(h),"gridpagechange",f)}apex.debug.message(a,"SAVED selection change: ",l,p,o)}})})},n(function(){n.widget("apex.grid",n.apex.grid,{refresh:function(e){var n,i;if(this.element.hasClass("a-IG-gridView")&&(n=this.element.closest(".a-IG")[0].id,(i=t[n]&&t[n].grid)&&i.offset)){if(this.pageOffset=i.offset,delete i.offset,this.pageOffset>0){var r=0===this.model._data.length?1:this.model._data.length;this.model._data.length=1,this.model._data.length=r}apex.debug.message(a,"RESTORE page offset",n,"grid",this.pageOffset,this.pageSize,"Sélection",i.sel)}this._super(e)}}),n.widget("apex.tableModelView",n.apex.tableModelView,{refresh:function(e){var a,n,i,r;this.element.hasClass("a-IG-iconView")?i="icon":this.element.hasClass("a-IG-detailView")&&(i="detail"),i&&(r=i,a=this.element.closest(".a-IG")[0].id,(n=t[a]&&t[a][r])&&n.offset&&(this.pageOffset=n.offset,delete n.offset,this.pageOffset>0&&(this.model._data.length=1))),this._super(e)}})}),{memoriserPageSelectionIg:e.memoriserPageSelectionIg}},e.inactiverEnteteColonne=function(e){e.defaultGridColumnOptions=e.defaultGridColumnOptions||{};return n.extend(e.defaultGridColumnOptions,{noHeaderActivate:!0}),e},e.DeactivercollapsableControlBreak=function(e){return e.defaultGridViewOptions={collapsibleControlBreaks:!1},e},e.appliquerFormatHeure=function(e){function t(e){return e.toString().padStart(2,"0")}apex.item.create(e,{displayValueFor:function(e){const a=e,n=a%60;return`${t(Math.floor(a/60))}:${t(n)}`}})}}(shq.ig,0,apex.theme42,apex.jQuery),(shq=shq||{}).ig=shq.ig||{},shq.ig.action={},function(e,t,a){"use strict";var n=t.debug.LOG_LEVEL.INFO;e.initialiserColoneMenu=function(e){e.defaultGridColumnOptions=e.defaultGridColumnOptions||{},e.heading=e.heading||{},e.features=e.features||{};var i={seq:1,headingAlignment:"center",noStretch:!0,noHeaderActivate:!0,width:"40px",canHide:!1,heading:"",columnCssClasses:"has-button",alignment:"center",resizeColumns:!1,usedAsRowHeader:!1,canSort:!1},r={label:"Menu enregistrement"},o={canHide:!1};return a.extend(e.defaultGridColumnOptions,i),a.extend(e.heading,r),a.extend(e.features,o),t.debug.message(n,"initialiserColoneMenu",i),t.debug.message(n,"initialiserColoneMenu",r),t.debug.message(n,"initialiserColoneMenu",o),e};var i=function(e){var a=t.region(e).call("getViews","grid");return{grid:a,record:null,fields:a.model.getOption("fields"),recordId:null}},r=function(e){var i=[];a.each(e.fields,function(t,a){var n={nomColone:a.property,valeurColone:e.grid.model.getRecordValue(e.recordId,a.property)};i.push(n)}),t.debug.message(n,"_obtenirValeurColonesIg",i)};e.asynMenugrilleShq=function(e,o){var s="#"+(e+"_ig_row_actions_menu"),c="#".concat(e);a(c).on("click",".js-menuButton",function(e){var i=a(e.target).parent(),r=l.grid.getContextRecord(i)[0];l.record=r,l.recordId=a(i).parents("tr:first").attr("data-id"),t.debug.message(n,"asynMenugrilleShq - event.target",i)});var l=i(e);a(s).menu({asyncFetchMenu:function(e,a){if(console.log(l.recordId),r(l),l.grid.model.getRecordMetadata(l.recordId).inserted)setTimeout(function(){a()},0);else{var i=t.server.process("APX - Grille action",{x01:o,x02:l.recordId});t.debug.message(n,"asyncFetchMenu",o,l.recordId),i.done(function(i){e.items.length;e.items.slice().reverse().forEach(function(t,a,n){t.id&&0===t.id.indexOf("shq_")&&e.items.splice(n.length-1-a,1)}),i.items.slice().reverse().forEach(function(t,a,n){switch(t.attr.positionType){case"TOP":e.items.unshift(t.item)}}),i.items.forEach(function(t,a,n){switch(t.attr.positionType){case"BOTTOM":e.items.push(t.item)}}),t.debug.message(n,"menu",e),a()}).fail(function(e,n){t.debug.error("Erreur  dans la function _obtenirGrilleShqMen Callback: "+n),a(!1)}).always(function(){})}}})},e.gridMenuAction=function(){a(".t-Region[data-menu-grid]").each(function(e,o){let s={};s.staticId=o.id,s.$staticId="#".concat(s.staticId),s.idMenuActionshq=s.staticId.concat("_ig_row_actions_menu"),s.$idMenuActionshq="#".concat(s.idMenuActionshq),s.actionCode=a(o).data("menu-grid");let c=i(s.staticId);a(s.$staticId).on("click",".js-menuButton",function(e){var i=a(e.target).parent(),r=c.grid.getContextRecord(i)[0];c.record=r,c.recordId=a(i).closest("tr").data("id"),t.debug.message(n,"asynMenugrilleShq - event.target",i)}),a(s.$idMenuActionshq).menu({asyncFetchMenu:function(e,a){if(console.log(c.recordId),r(c),c.grid.model.getRecordMetadata(c.recordId).inserted)setTimeout(function(){a()},0);else{var i=t.server.process("APX - Grille action",{x01:s.actionCode,x02:c.recordId});t.debug.message(n,"asyncFetchMenu",s.actionCode,c.recordId),i.done(function(i){e.items.length;e.items.slice().reverse().forEach(function(t,a,n){t.id&&0===t.id.indexOf("shq_")&&e.items.splice(n.length-1-a,1)}),i.items.slice().reverse().forEach(function(t,a,n){switch(t.attr.positionType){case"TOP":e.items.unshift(t.item)}}),i.items.forEach(function(t,a,n){switch(t.attr.positionType){case"BOTTOM":e.items.push(t.item)}}),t.debug.message(n,"menu",e),a()}).fail(function(e,n){t.debug.error("Erreur  dans la function _obtenirGrilleShqMen Callback: "+n),a(!1)}).always(function(){})}}})})}}(shq.ig.action,apex,apex.jQuery),(shq=shq||{}).ig=shq.ig||{},shq.ig.navgt={},function(e,t,a){"use strict";t.debug.LOG_LEVEL.INFO;var n=a(".shq-navgt-ig");a("#".concat(n.attr("id"))).on("gridpagechange",function(e,a){t.debug.info("__gridpagechange"),shq.ig.navgt.enregistrerDataIg()}),e.enregistrerDataIg=function(){var e,n,i,r,o,s=a(".shq-navgt-ig");s.each(function(s,c){if(c.hasAttribute("data-nvgt-pkeys")){e={rows:[]};var l=c.id;t.debug.info("__id__".concat(l));var u,d=a("#".concat(l)),p=d.attr("data-nvgt-pkeys").split(","),g={},f=d.attr("data-nvgt-gridkey");c.hasAttribute("data-nvgt-title")&&(u=d.attr("data-nvgt-title")),i=t.region(l).widget().interactiveGrid("getViews").grid,r=i.model,o=0,r.forEach(function(t){g={};for(var a=0;a<p.length;a++)g[p[a]]=r.getValue(t,p[a]);var n=void 0!==u?r.getValue(t,u):"";o++,e.rows.push({seq:o,keys:g,title:n})}),n=JSON.stringify(e);t.server.process("APX - Enregistrer navigation",{x01:n,x02:f,x03:p.join(":")},{success:function(e){t.debug.info("__success__".concat("APX - Enregistrer navigation"))}})}})}}(shq.ig.navgt,apex,apex.jQuery),(shq=shq||{}).ig_selection={},function(e,t,a,n){"use strict";apex.debug.LOG_LEVEL.INFO;e.assignerItemsIgSelectionne=function(e,t,a,n){var i,r,o=[],s=a.model.getOption("regionStaticId");if(!apex.region(s).call("getCurrentView").singleRowMode){for(i=0;i<a.selectedRecords.length;i++)r=n.getValue(a.selectedRecords[i],e),o.indexOf(r)&&o.push(r);var c=apex.server.process("ENREGISTRER_SELECTION_IG",{f01:o,x01:t});apex.message.clearErrors(),c.done(function(e){var t=apex.lang.formatMessage("APEX.GV.SELECTION_COUNT",o.length);apex.debug.info(t)}).fail(function(e,t,a){var n=apex.lang.getMessage("SHQ.ERREUR.SELECTION_ENREGISTREMENT");apex.message.showErrors([{type:"error",location:"page",message:n,unsafe:!1}])})}},e.enregistrementSelectione=function(e){var t=e.model.getOption("regionStaticId");if(!apex.region(t).call("getCurrentView").singleRowMode)return 0!==(void 0===e.selectedRecords?0:e.selectedRecords.length)}}(shq.ig_selection,0,apex.theme42,apex.jQuery),(shq=shq||{}).item={},function(e,t,a,n){"use strict";var i=apex.debug.LOG_LEVEL.INFO;function r(e,t){for(var a="";t>0;)a+=e,t--;return a}e.appliquerMasque=function(){t.item.appliquerMasqueTelephone(),t.item.appliquerMasqueCourriel(),t.item.appliquerMasqueDate(),t.item.appliquerMasqueHeure(),t.item.appliquerMasqueCodePostal(),t.item.appliquerMasqueCodeDebutAlpha(),t.item.appliquerMasqueCodeAlphaNum(),t.item.appliquerMasqueCodeNum(),t.item.appliquerMasqueCodeAlpha(),t.item.appliquerMasqueTvq(),t.item.appliquerMasqueTps(),t.item.appliquerMasqueMontantAucuneDecimal(),t.item.appliquerMasqueMontantDeuxDecimal(),t.item.appliquerMasquePourcentage(),t.item.appliquerMasquePourcentageSansSigne(),t.item.appliquerMasqueNumeriqueDeuxDecimales(),t.item.appliquerMasqueNumeriqueSansDecimal()},e.validerDate=function(e){var t=n("#".concat(e)).val();return moment(t,"YYYY-MM-DD",!0).isValid()},e.appliquerMasqueHeure=function(e){var t,a=function(e){apex.debug.message(i,"Fomatter Heure");var t=e.split(":");if(2===t.length&&(apex.debug.message(i,"Entre dans le if length 2"),/[1-2]/.test(t[0].length)&&2===t[1].length)){apex.debug.message(i,"Entre dans le if mettre 0");var a,n=t[0];switch(n.length){case 1:a="0";break;case 2:a=/^-/.test(n)?"-0":/^0/.test(n)?"0":n;break;default:a=n}var r=t[1];e=(a=1===(n=n.replace(/^(-0|0|-)/,"")).length?a+n:a).concat(":"+r),apex.debug.message(i,"valeurHeure heureComplete : "+e)}return e},r={A:{pattern:/[0-2]/,optional:!0},B:{pattern:/[0-9]/,optional:!1},C:{pattern:/[0-5]/,optional:!1},D:{pattern:/[0-9]/,optional:!1},E:{pattern:/[0-3]/,optional:!1},F:{pattern:/[0-2]/,optional:!1},G:{pattern:/[1-9]/,optional:!1},H:{pattern:/[0-1]/,optional:!1},I:{pattern:/[2-9]/,optional:!1},J:{pattern:/[0-9]/,optional:!0},K:{pattern:/[7-9]/,optional:!1},M:{pattern:/-/,optional:!0},N:{pattern:/[0-3]/,optional:!0},O:{pattern:/[0-9]/,optional:!0}},o=function(e){return apex.debug.message(i,"SPMaskBehavior",e),"2"===e.replace(/\D/g,"")[0]?"AE:CD":"AB:CD"},s=function(e){return apex.debug.message(i,"SPMaskBehaviorNegative",e),"2"===e.replace(/\D/g,"")[0]?"MAN:CD":"MAO:CD"},c={onKeyPress:function(e,t,n,i){n.mask(o.apply({},arguments),i),2==e.split(":").length&&n.val(a(e))},translation:r,recursive:!0},l={onKeyPress:function(e,t,n,i){n.mask(s.apply({},arguments),i),2==e.split(":").length&&n.val(a(e))},onChange:function(e,t){t.target.value=e.replace(/(?!^)-/g,"").replace(/^(-[:])/,"-").replace(/(\d+\:*)\:(\d{2})$/,"$1:$2")},translation:r,recursive:!0},u=function(e){return apex.debug.message(i,"shqMaskPlusUneJournee",e),"JJ:CD"},d={onKeyPress:function(e,t,n,i){switch(n.mask(u.apply({},arguments),i),e.split(":").length){case 2:n.val(a(e))}},translation:r,recursive:!0},p=function(e){apex.debug.message(i,"shqMaskPlusUneJourneeNegative",e);return"MJJ:CD"},g={onKeyPress:function(e,t,n,i){switch(n.mask(p.apply({},arguments),i),e.split(":").length){case 2:n.val(a(e))}},onChange:function(e,t){t.target.value=e.replace(/(?!^)-/g,"").replace(/^(-[:])/,"-").replace(/(\d+\:*)\:(\d{2})$/,"$1:$2")},translation:r,recursive:!0},f=function(e){return apex.debug.message(i,"shqMaskPlusUneJourneeActivite",e),"JJJ:CD"},h={onKeyPress:function(e,t,n,i){switch(n.mask(f.apply({},arguments),i),e.split(":").length){case 2:n.val(a(e))}},translation:r,recursive:!0},m=function(e){apex.debug.message(i,"shqMaskPlusUneJourneeNegativeActivite",e);return"MJJJ:CD"},E={onKeyPress:function(e,t,n,i){switch(n.mask(m.apply({},arguments),i),e.split(":").length){case 2:n.val(a(e))}},onChange:function(e,t){t.target.value=e.replace(/(?!^)-/g,"").replace(/^(-[:])/,"-").replace(/(\d+\:*)\:(\d{2})$/,"$1:$2")},translation:r,recursive:!0},v=function(e){apex.debug.message(i,"shqMaskDebutAm",e);var t=e.replace(/\D/g,"").split(":")[0];return/^13/g.test(t)?"H3:HC":/^1/.test(t)?"HE:CD":/^0|[^[0-1]]/.test(t)?"AK:CD":"AD:CD"},I={onKeyPress:function(e,t,n,r){n.mask(v.apply({},arguments),r);var o=e.split(":");switch(o.length){case 1:var s=o.slice(0,2).join("");apex.debug.message(i,"heureDebutAm",s),/^[7-9]/.test(s)?n.val(a(e)):/^[0-1]/.test(s)||n.val("");break;case 2:n.val(a(e))}},translation:r,recursive:!0},O=function(e){apex.debug.message(i,"shqMaskPm",e);var t,a,n=e.replace(/\D/g,"").split("");switch(n.length){case 1:t=parseInt(n.slice(0,1).join(""));break;case 2:t=parseInt(n.slice(0,2).join(""))}switch(!0){case 1===t:a="GI:CD";break;case 2===t||t>19:a="FE:CD";break;default:a="FD:CD"}return a},M={onKeyPress:function(e,t,n,r){n.mask(O.apply({},arguments),r);var o=e.split(":");switch(o.length){case 1:var s=o.slice(0,2).join("");apex.debug.message(i,"heurePm",s),/^([1][2-9]|2[0-3])$/.test(s)||2!==s.length||n.val("");break;case 2:n.val(a(e))}},translation:r,recursive:!0};0===(e=void 0===e?"":e).length?n(".shq-heure").each(function(e,a){t=a.id;var i,r=n("#".concat(t)),S=n(r).attr("data-heure");switch(S){case"DAM":case"FAM":n("#".concat(a.id)).mask(v,I);break;case"DPM":case"FPM":n("#".concat(a.id)).mask(O,M);break;case"HPUJ":n("#".concat(a.id)).mask(u,d);break;case"HPUJNEG":n("#".concat(a.id)).mask(p,g);break;case"HAUJ":n("#".concat(a.id)).mask(f,h);break;case"HAUJNEG":n("#".concat(a.id)).mask(m,E);break;case"HNEG":n("#".concat(a.id)).mask(s,l);break;default:n("#".concat(a.id)).mask(o,c)}i="HPUJ"==S?new RegExp(/^([0-9][0-9]):[0-5][0-9]$/):"HPUJNEG"===S?new RegExp(/^-?([0-9][0-9]):[0-5][0-9]$/):"HAUJ"==S?new RegExp(/^([0-9]?[0-9][0-9]):[0-5][0-9]$/):"HNEG"===S?new RegExp(/^-?([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/):"HAUJNEG"===S?new RegExp(/^-?([0-9]?[0-9][0-9]):[0-5][0-9]$/):new RegExp(/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/);var x=apex.lang.formatMessage("SHQ.ITEM.HEURE_INVALID");!1===r.is("pattern")&&(r.attr("pattern",i.source),r.attr("data-valid-message",x))}):n.each(e,function(e,t){var a=-1===t.indexOf("#",0)?"#".concat(t):t;n(a).mask(l_maskHeure)})},e.appliquerMasqueCodePostal=function(e){var t={onKeyPress:function(e,t){t.currentTarget.value=e.toUpperCase()}};0===(e=void 0===e?"":e).length?n(".shq-code-postal").each(function(e,a){n("#".concat(a.id)).mask("S0S 0S0",t);var i=a.id,r=n("#".concat(i)),o=(n("#".concat(i.concat("_LABEL"))),new RegExp(/[A-Za-z][0-9][A-Za-z] [0-9][A-Za-z][0-9]/)),s=apex.lang.formatMessage("SHQ.ITEM.CODE_POSTAL_INVALID");!1===r.is("pattern")&&(r.attr("pattern",o.source),r.attr("data-valid-message",s))}):n.each(e,function(e,t){var a=-1===t.indexOf("#",0)?"#".concat(t):t;n(a).mask("S0S 0S0")})},e.appliquerMasqueDate=function(e){0===(e=void 0===e?"":e).length?n(".shq-date").each(function(e,t){n("#".concat(t.id)).mask("0000-00-00");var a=t.id,i=n("#".concat(a)),r=i.attr("placeholder")?i.attr("placeholder"):"AAAA-MM-JJ",o=n("#".concat(a.concat("_LABEL"))),s=new RegExp(/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/),c=apex.lang.formatMessage("APEX.DATEPICKER_VALUE_INVALID",r).replace("#LABEL#",o.text());!1===i.is("pattern")&&(i.attr("pattern",s.source),i.attr("data-valid-message",c))}):n.each(e,function(e,t){var a=-1===t.indexOf("#",0)?"#".concat(t):t;n(a).mask("0000-00-00")})},e.appliquerMasqueTelephone=function(e){0===(e=void 0===e?"":e).length?n(".shq-telephone").each(function(e,t){var a=t.id,i=n("#".concat(a)),r=n("#".concat(a.concat("_LABEL"))),o=new RegExp(/\d{3} \d{3}[\-]\d{4}/),s=apex.lang.formatMessage("SHQ.ITEM.PHONENUMBER_INVALID","000 000-0000").replace("#LABEL#",r.text());i.mask("000 000-0000"),!1===i.is("pattern")&&(i.attr("pattern",o.source),i.attr("data-valid-message",s))}):n.each(e,function(e,t){var a=-1===t.indexOf("#",0)?"#".concat(t):t;n(a).mask("000 000-0000")})},e.appliquerMasqueCourriel=function(e){0===(e=void 0===e?"":e).length?n(".shq-courriel").each(function(e,t){var a=t.id,i=n("#".concat(a)),r=n("#".concat(a.concat("_LABEL"))),o=new RegExp(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/);i.mask("A",{translation:{A:{pattern:/[\w@\-.+]/,recursive:!0}}});var s=apex.lang.formatMessage("SHQ.ITEM.COURRIEL_INVALID").replace("#LABEL#",r.text());!1===i.is("pattern")&&(i.attr("pattern",o.source),i.attr("data-valid-message",s))}):n.each(e,function(e,t){var a=-1===t.indexOf("#",0)?"#".concat(t):t;n(a).mask("A",{translation:{A:{pattern:/[\w@\-.+]/,recursive:!0}}})})};e.appliquerMasqueMontantAucuneDecimal=function(e){0===(e=void 0===e?"":e).length?n(".shq-montant-aucune-decimal").each(function(e,t){n("#".concat(t.id)).mask(" 00 000 000",{reverse:!0})}):n.each(e,function(e,t){var a=-1===t.indexOf("#",0)?"#".concat(t):t;n(a).mask(" 00 000 000",{reverse:!0})})},e.appliquerMasqueMontantDeuxDecimal=function(e){var t={reverse:!0,maxlength:!1,placeholder:"0,00",byPassKeys:[9,16,17,18,35,36,37,38,39,40,46,91],eventNeedChanged:!1,onKeyPress:function(e,t,a,i){var r=a.data("mask").mask,o=/0(.)00/gi.exec(r)[1]||",";if(i.prefixMoney=void 0!==i.prefixMoney?i.prefixMoney:"",a.data("mask-isZero")&&8==a.data("mask-keycode"))n(a).val("");else if(e){var s=a.data("mask-key"),c=void 0!==a.data("mask-minus-signal")&&a.data("mask-minus-signal");if(["-","+"].indexOf(s)>=0)return a.val(i.prefixMoney+("-"==s?s+e:e.replace(/^-?/,""))),void a.data("mask-minus-signal","-"==s);e=0==(e=(e=e.replace(new RegExp("^-?"),"")).replace(new RegExp("^0*\\"+o+"?0*"),"")).length?"0"+o+"00":1==e.length?"0"+o+"0"+e:2==e.length?"0"+o+e:e,a.val(i.prefixMoney+(c?"-":"")+e).data("mask-isZero",e=="0"+o+"00")}}},a={};(a=n.extend(!0,{},a,t)).prefixMoney="R$ ",0===(e=void 0===e?"":e).length?n(".shq-montant-deux-decimal").each(function(e,t){n("#".concat(t.id)).mask("#.##0,00",{reverse:!0})}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a;n(i).mask("#.##0,00",t).keydown().keyup()})},e.appliquerMasquePourcentage=function(e){0===(e=void 0===e?"":e).length?n(".shq-pourcentage").each(function(e,t){n("#".concat(t.id)).mask("##0,00%",{reverse:!0})}):n.each(e,function(e,t){var a=-1===t.indexOf("#",0)?"#".concat(t):t;n(a).mask("##0,00%",{reverse:!0})})},e.appliquerMasquePourcentageSansSigne=function(e){var t={reverse:!0};0===(e=void 0===e?"":e).length?n(".shq-pourcentage-sans-signe").each(function(e,a){n("#".concat(a.id)).mask("##0,00",t)}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a;n(i).mask("##0,00",t)})},e.appliquerMasqueNumeriqueDeuxDecimales=function(e){var t={reverse:!0,translation:{S:{pattern:/-|\d/,recursive:!0}},onChange:function(e,t){var a=t.target,n=a.selectionStart;a.value=e.replace(/(?!^)-/g,"").replace(/^,/,"").replace(/^-(,| )/,"-"),a.selectionEnd=n}};0===(e=void 0===e?"":e).length?n(".shq-numerique-2d").each(function(e,a){n("#".concat(a.id)).mask(" 00 000 000 009,99",t)}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a;n(i).mask(" 00 000 000 009,99",t)})},e.appliquerMasqueNumeriqueSansDecimal=function(e){var t={reverse:!0,translation:{S:{pattern:/-|\d/,recursive:!1}},onChange:function(e,t){var a=t.target,n=a.selectionStart;a.value=e.replace(/(?!^)-/g,"").replace(/^,/,"").replace(/^-(,| )/,"-"),a.selectionEnd=n}};0===(e=void 0===e?"":e).length?n(".shq-numerique-sans-decimal").each(function(e,a){n("#".concat(a.id)).mask(" 00 000 000 009",t)}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a;n(i).mask(" 00 000 000 009",t)})},e.changerLibelle=function(e,t){var a=e.concat("_LABEL");void 0!==(a=-1===a.indexOf("#",0)?"#".concat(a):a)?n(a).text(t):apex.debug.log("Impossible de changer le libellé ",e)},e.appliquerMajuscule=function(e){n(e).on("change",".shq-uppercase",function(e){var t=e.target,a="#"+n(t).attr("id");n(a).val(n(a).val().toUpperCase())})},e.appliquerMasqueCodeDebutAlpha=function(e){var t={translation:{Z:{pattern:/[A-Za-z]+/,recursive:!0},0:{pattern:/[A-Za-z0-9_\-]+/,recursive:!0}},onKeyPress:function(e,t){t.currentTarget.value=e.toUpperCase()}};0===(e=void 0===e?"":e).length?n(".shq-code-debut-alpha").each(function(e,a){var i=a.id,o=n("#".concat(i)),s=new RegExp("[A-Z]+[A-Z0-9_-]*"),c=apex.lang.formatMessage("SHQ.ITEM.CODE_DEBUT_ALPHA_INVALID");o.mask("Z"+r("0",o[0].maxLength-1),t),!1===o.is("pattern")&&(o.attr("pattern",s.source),o.attr("data-valid-message",c))}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a,o=n(i);o.mask("Z"+r("0",o[0].maxLength-1),t)})},e.appliquerMasqueCodeAlphaNum=function(e){var t={translation:{Z:{pattern:/[A-Za-z0-9]+/,recursive:!0},0:{pattern:/[A-Za-z0-9_\-]+/,recursive:!0}},onKeyPress:function(e,t){t.currentTarget.value=e.toUpperCase()}};0===(e=void 0===e?"":e).length?n(".shq-code-alpha-num").each(function(e,a){var i=a.id,o=n("#".concat(i)),s=new RegExp("[A-Z0-9]+[A-Z0-9_-]*"),c=apex.lang.formatMessage("SHQ.ITEM.CODE_ALPHA_NUM_INVALID");o.mask("Z"+r("0",o[0].maxLength-1),t),!1===o.is("pattern")&&(o.attr("pattern",s.source),o.attr("data-valid-message",c))}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a,o=n(i);o.mask("Z"+r("0",o[0].maxLength-1),t)})},e.appliquerMasqueTvq=function(e){var t={translation:{T:{pattern:/[t]|[T]/,fallback:"T"},Q:{pattern:/[Q]|[q]/,fallback:"Q"}},onKeyPress:function(e,t){t.currentTarget.value=e.toUpperCase()}};0===(e=void 0===e?"":e).length?n(".shq-code-tvq").each(function(e,a){var i=a.id,r=n("#".concat(i)),o=new RegExp("([0-9]{10})(T|\t)(Q|q)([0-9]{04})"),s=apex.lang.formatMessage("SHQ.ITEM.CODE_TVQ_INVALID");r.mask("0000000000TQ0000",t),!1===r.is("pattern")&&(r.attr("pattern",o.source),r.attr("data-valid-message",s))}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a;n(i).mask("0000000000TQ0000",t)})},e.appliquerMasqueTps=function(e){var t={translation:{R:{pattern:/[r]|[R]/,fallback:"R"},T:{pattern:/[t]|[T]/,fallback:"T"}},onKeyPress:function(e,t){t.currentTarget.value=e.toUpperCase()}};0===(e=void 0===e?"":e).length?n(".shq-code-tps").each(function(e,a){var i=a.id,r=n("#".concat(i)),o=new RegExp("([0-9]{9})(R|r)(T|t)([0-9]{04})"),s=apex.lang.formatMessage("SHQ.ITEM.CODE_TPS_INVALID");r.mask("000000000RT0000",t),!1===r.is("pattern")&&(r.attr("pattern",o.source),r.attr("data-valid-message",s))}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a;n(i).mask("000000000RT0000",t)})},e.appliquerMasqueCodeNum=function(e){0===(e=void 0===e?"":e).length?n(".shq-code-num").each(function(e,t){var a=t.id,i=n("#".concat(a)),o=new RegExp("[0-9]*"),s=apex.lang.formatMessage("SHQ.ITEM.CODE_NUM_INVALID");i.mask("0"+r("0",i[0].maxLength-1)),!1===i.is("pattern")&&(i.attr("pattern",o.source),i.attr("data-valid-message",s))}):n.each(e,function(e,t){var a=-1===t.indexOf("#",0)?"#".concat(t):t,i=n(a);i.mask("0"+r("0",i[0].maxLength-1))})},e.appliquerMasqueCodeAlpha=function(e){var t={onKeyPress:function(e,t){t.currentTarget.value=e.toUpperCase()}};0===(e=void 0===e?"":e).length?n(".shq-code-alpha").each(function(e,a){var i=a.id,o=n("#".concat(i)),s=new RegExp("[A-Z]*"),c=apex.lang.formatMessage("SHQ.ITEM.CODE_ALPHA_INVALID");o.mask(r("S",o[0].maxLength),t),!1===o.is("pattern")&&(o.attr("pattern",s.source),o.attr("data-valid-message",c))}):n.each(e,function(e,a){var i=-1===a.indexOf("#",0)?"#".concat(a):a,o=n(i);o.mask(r("S",o[0].maxLength),t)})},e.enterPresse=function(e){return"Enter"===(void 0===e.key?null:e.key)},e.controlerInputPassword=function(e){var t=n(this),a=n("span",t),i="#".concat(t.data("id-input")),r="password"===n(i).attr("type")?"text":"password";n(i).attr("type",r),"text"===r?a.removeClass("fa-eye").addClass("fa-eye-slash"):a.removeClass("fa-eye-slash").addClass("fa-eye")},e.visualiserInputPassword=function(){n(".shq-visualiser-password").on("click",t.item.controlerInputPassword)}}(shq.item,shq,apex.theme42,apex.jQuery),(shq=shq||{}).page={},function(e,t,a,n){"use strict";e.page.confirm=function(e,t,a,n){var i={"APEX.DIALOG.OK":apex.lang.getMessage("APEX.DIALOG.OK"),"APEX.DIALOG.CANCEL":apex.lang.getMessage("APEX.DIALOG.CANCEL")};apex.lang.addMessages({"APEX.DIALOG.OK":a}),apex.lang.addMessages({"APEX.DIALOG.CANCEL":n}),apex.message.confirm(e,t),setTimeout(function(){apex.lang.addMessages({"APEX.DIALOG.OK":i["APEX.DIALOG.OK"]}),apex.lang.addMessages({"APEX.DIALOG.CANCEL":i["APEX.DIALOG.CANCEL"]})},0)},e.page.alert=function(e,t,a){var n={"APEX.DIALOG.OK":apex.lang.getMessage("APEX.DIALOG.OK")};apex.lang.addMessages({"APEX.DIALOG.OK":a}),apex.message.alert(e,t),setTimeout(function(){apex.lang.addMessages({"APEX.DIALOG.OK":n["APEX.DIALOG.OK"]})},0)}}(shq,shq.page,apex.util,apex.jQuery),(shq=shq||{}).region={},function(e,t,a,n){"use strict";apex.debug.LOG_LEVEL.INFO;e.appliquerSpinnerIframe=function(e){var t=n("#".concat(e)).find("iframe"),a=apex.util.showSpinner();t.on("load",function(){a.remove()})}}(shq.region,0,apex.theme42,apex.jQuery),(shq=shq||{}).utl_menu={},function(e,t,a){"use strict";e.appliquerCssAutorisationDev=function(e){var t=a(".t-NavigationBar a.t-Button.t-Button--icon.t-Button--header.t-Button--navBar .fa-user-secret").parent();if(t.length)switch(e){case"O":a(t).removeClass("u-warning").removeClass("u-normal-text");break;case"N":a(t).addClass("u-warning").addClass("u-normal-text");break;default:a(t).removeClass("u-warning").removeClass("u-normal-text")}},e.initialiserAutorisationDev=function(){var t='"ERREUR_MESSAGE_AJAX"';apex.server.process("APX - Recuperer Autorisation DEV").done(function(t){apex.debug.info(t),e.appliquerCssAutorisationDev(t.autorisation_dev.valeur)}).fail(function(){t=t.replace("%1","processAutorisationDev"),apex.message.showErrors(t),apex.debug.error(t)})},e.appliquerAutorisationDev=function(){var t='"ERREUR_MESSAGE_AJAX"';apex.server.process("APX - MAJ Autorisation DEV").done(function(t){apex.debug.info(t),e.appliquerCssAutorisationDev(t.autorisation_dev.valeur),apex.message.showPageSuccess(t.autorisation_dev.message)}).fail(function(){t=t.replace("%1","processAutorisationDev"),apex.message.showErrors(t),apex.debug.error(t)})},e.controlerLibelleFonctExpression=function(e){var a;switch(e){case"PLSQL":a="Nom de la fonction PL/SQL";break;case"EXPRE":a="Expression SQL";break;default:a="Nom de la fonction PL/SQL"}t.item.changerLibelle("P9_NOM_FONCT_PLSQL_LIBEL",a)},e.controlerLibellePortailAppli=function(e){var a;switch(e){case"APEX":a="Application APEX";break;case"FORMS":a="Application FORMS";break;default:a="Application APEX"}t.item.changerLibelle("P9_NO_SEQ_PORTAIL_APPLI",a)},t.utl_menu.ouvrirLiensUrlFichier=function(e){var a=apex.lang.formatMessageNoEscape("SHQ.MENU.OUVERTURE_FICHIER_URL",e);if(t.isNavigateurIexplorer11())apex.navigation.openInNewWindow(e,"",{favorTabbedBrowsing:!0});else apex.message.alert(a)},t.utl_menu.ouvrirLiensForms=function(e,a){var n=apex.lang.formatMessageNoEscape("SHQ.MENU.OUVERTURE_FORMS",a),i=(new Date).getTime();if(a=void 0===a?"":a,a=$nvl(a,!0)?a.concat("_").concat(i):i,t.isNavigateurIexplorer11()||t.isNavigateurEdge()){var r=Math.ceil(.85*screen.width),o=Math.ceil(.75*screen.height);apex.navigation.popup({url:e,name:a,width:r,height:o,menubar:"yes",statusbar:"yes"})}else apex.message.alert(n)},t.utl_menu.ouvrirLiensIexplorer=function(e,a){var n=apex.lang.formatMessage("SHQ.MENU.OUVERTURE_URL_IEXPLORER"),i=(new Date).getTime();if(a=void 0===a?"":a,a=$nvl(a,!0)?a.concat("_").concat(i):i,t.isNavigateurIexplorer11()||t.isNavigateurEdge()){var r=Math.ceil(.85*screen.width),o=Math.ceil(.75*screen.height);apex.navigation.popup({url:e,name:a,width:r,height:o,menubar:"yes",statusbar:"yes"})}else apex.message.alert(n)}}(shq.utl_menu,shq,apex.jQuery),(shq=shq||{}).utl_portail={},function(e,t,a){"use strict";e.expandCollapseMessagePortail=function(){var e="li.t-shq-portail-message";a(e).on("click",function(t){!function(t){var n="is-current is-expanded",i=t.currentTarget;a(e).not(i).each(function(e,t){a(t).removeClass(n)});a(i).hasClass(n)?a(i).removeClass(n):a(i).addClass(n)}(t)})}}(shq.utl_portail,0,apex.jQuery);